/*
 * Copyright (c) 2024  Blue Robotics North Inc.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy of
 * this software and associated documentation files (the "Software"), to deal in
 * the Software without restriction, including without limitation the rights to
 * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies
 * of the Software, and to permit persons to whom the Software is furnished to do
 * so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
/*
 * A Schema to demonstrate common features
 */

//*************************************************************************************
//ATTENTION! THIS FILE WAS AUTOGENERATED BY THE BLUEBERRY SCHEMA PARSER.
//It's probably not a good idea to modify it. :-P
//*************************************************************************************

/*
 * This is the top level hierarchy of a BR packet
 * Define the packet header.
 * This occurs at the start of all packets
 */
Packet brPacket( preamble = 0x45554c42 ) {
	/*
	 * this section conveys the ID of the device
	 * this a unique identifier
	 * any payload following an ID payload is assumed only to be
	 * to or from that particular device.
	 * A device will always send an ID payload with every packet.
	 * A bus controller does not need to send an ID payload.
	 * A packet without one shall still be processed by a peripheral
	 * Now the payload header
	 * every block within a packet needs to follow this form.
	 * Note that the structure is the same as an array, but the repeats field is not used
	 */
	Payload idPayload {
	}
	/*
	 * a request by the bus controller to all devices that have not communicated successfully recently
	 * the controller can specify the probability and timeframe that the peripherals will respond
	 * the peripherals will respond with an idPayload
	 * Now the payload header
	 * every block within a packet needs to follow this form.
	 * Note that the structure is the same as an array, but the repeats field is not used
	 */
	Payload whosTherePayload {
	}
	/*
	 * A payload for a peripheral to convey its details to the controller.
	 * A controller requests a version payload by sending an empty one.
	 * A controller can request the peripheral to set its hardware type and rev by sending a populated one
	 * Now the payload header
	 * every block within a packet needs to follow this form.
	 * Note that the structure is the same as an array, but the repeats field is not used
	 */
	Payload versionPayload {
	}
	/*
	 * Now the payload header
	 * every block within a packet needs to follow this form.
	 * Note that the structure is the same as an array, but the repeats field is not used
	 */
	Payload timePayload {
	}
	/*
	 * A payload for configuring a servo
	 * Now the payload header
	 * every block within a packet needs to follow this form.
	 * Note that the structure is the same as an array, but the repeats field is not used
	 */
	Payload servoConfigPayload {
	}
	/*
	 * A payload for controlling a servo and also for the response from a servo
	 * Now the payload header
	 * every block within a packet needs to follow this form.
	 * Note that the structure is the same as an array, but the repeats field is not used
	 */
	Payload servoControlPayload {
	}
	/*
	 * A payload for the response from a sero
	 * Now the payload header
	 * every block within a packet needs to follow this form.
	 * Note that the structure is the same as an array, but the repeats field is not used
	 */
	Payload servoResponsePayload {
	}
	/*
	 * A payload for controlling a lumen
	 * A lumen will response with a lumenResponsePayload
	 * Now the payload header
	 * every block within a packet needs to follow this form.
	 * Note that the structure is the same as an array, but the repeats field is not used
	 */
	Payload lightControlPayload {
	}
	/*
	 * A payload for the response from a lumen
	 * Now the payload header
	 * every block within a packet needs to follow this form.
	 * Note that the structure is the same as an array, but the repeats field is not used
	 */
	Payload lightResponsePayload {
	}
	/*
	 * this sends a new setpoint to the ESC.
	 * Now the payload header
	 * every block within a packet needs to follow this form.
	 * Note that the structure is the same as an array, but the repeats field is not used
	 */
	Payload escControlPayload {
	}
	/*
	 * A response from an ESC reporting on a few things of interest
	 * Now the payload header
	 * every block within a packet needs to follow this form.
	 * Note that the structure is the same as an array, but the repeats field is not used
	 */
	Payload escResponsePayload {
	}
	/*
	 * A family of payloads for uploading new firmware to a peripheral
	 * All data arrays must be preceeded by a flashProgramPayload
	 * The peripheral will respond with a program payload to indicate progress
	 * The state indicates requests from the bus controller or responses from the peripheral
	 * Now the payload header
	 * every block within a packet needs to follow this form.
	 * Note that the structure is the same as an array, but the repeats field is not used
	 */
	Payload flashProgramPayload {
	}
	/*
	 * This configures a feedback channel
	 * the peripheral will respond with the same paylaod
	 * if the payload is sent empty then it only triggers the peripheral to respond with its configuration
	 * One payload is sent per feedback channel used
	 * These do not need to be sent regularly
	 * Now the payload header
	 * every block within a packet needs to follow this form.
	 * Note that the structure is the same as an array, but the repeats field is not used
	 */
	Payload feedbackConfigPayload {
	}
	/*
	 * payload to convey measured acceleration from peripheral
	 * Peripheral will respond when receiving empty payload from bus controller 
	 * Now the payload header
	 * every block within a packet needs to follow this form.
	 * Note that the structure is the same as an array, but the repeats field is not used
	 */
	Payload accelerometerPayload {
	}
	/*
	 * A payload to convey a single channel worth of oscilloscope data.
	 * The actual data vector is conveyed by a compact array of bytes
	 * Also used to configure a channel
	 * Now the payload header
	 * every block within a packet needs to follow this form.
	 * Note that the structure is the same as an array, but the repeats field is not used
	 */
	Payload oscopePayload {
	}
	/*
	 * A payload to configure the timebase of the oscope.
	 * Now the payload header
	 * every block within a packet needs to follow this form.
	 * Note that the structure is the same as an array, but the repeats field is not used
	 */
	Payload oscopeSetupPayload {
	}
	/*
	 * Now the payload header
	 * every block within a packet needs to follow this form.
	 * Note that the structure is the same as an array, but the repeats field is not used
	 */
	Payload spiTransaction {
	}
}
